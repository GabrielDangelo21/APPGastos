<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Finan√ßas</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="container">
        <h1>üí∏ Meu Controle Financeiro</h1>

        <div class="card-section">
            <div class="card-summary">
                <i class="fas fa-money-bill-wave icon-income"></i>
                <p>Receitas</p>
                <span id="total-receitas" class="value-income">R$ 0,00</span>
            </div>
            <div class="card-summary">
                <i class="fas fa-shopping-basket icon-expense"></i>
                <p>Despesas</p>
                <span id="total-despesas" class="value-expense">R$ 0,00</span>
            </div>
            <div class="card-summary">
                <i class="fas fa-balance-scale icon-balance"></i>
                <p>Saldo Atual</p>
                <span id="saldo-atual" class="value-balance">R$ 0,00</span>
            </div>
        </div>

        <div class="card add-transaction-section">
            <h2><i class="fas fa-plus-circle"></i> Adicionar Nova Transa√ß√£o</h2>
            <form id="transaction-form">
                <div class="input-group">
                    <label for="data">Data:</label>
                    <input type="date" id="data" required>
                </div>
                <div class="input-group">
                    <label for="descricao">Descri√ß√£o:</label>
                    <input type="text" id="descricao" placeholder="Ex: Sal√°rio, Aluguel" required>
                </div>
                <div class="input-group">
                    <label for="valor">Valor:</label>
                    <input type="number" id="valor" step="0.01" placeholder="0.00" required>
                </div>

                <div class="input-group">
                    <label for="tipo">Tipo:</label>
                    <select id="tipo" required>
                        <option value="">Selecione o Tipo</option>
                        <option value="Receita">Receita</option>
                        <option value="Despesa">Despesa</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="conta">Conta:</label>
                    <select id="conta" required>
                        <option value="">Carregando contas...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="categoria">Categoria:</label>
                    <select id="categoria" required>
                        <option value="">Carregando categorias...</option>
                    </select>
                </div>

                <button type="submit" class="btn-submit">Adicionar Transa√ß√£o</button>
            </form>
        </div>

        <div class="grid-cadastros"
            style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">

            <div class="card">
                <h2><i class="fas fa-university"></i> Nova Conta</h2>
                <form id="form-conta">
                    <div class="input-group">
                        <label>Institui√ß√£o:</label>
                        <input type="text" id="conta-nome" placeholder="Ex: Nubank" required>
                    </div>
                    <div class="input-group">
                        <label>Moeda:</label>
                        <select id="conta-moeda" required>
                            <option value="BRL">BRL (R$)</option>
                            <option value="EUR">EUR (‚Ç¨)</option>
                            <option value="USD">USD ($)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Saldo Inicial:</label>
                        <input type="number" id="conta-saldo" placeholder="0.00" step="0.01" required>
                    </div>
                    <div class="input-group">
                        <label>Tipo de Conta:</label>
                        <select id="conta-tipo" required>
                            <option value="Conta Corrente">Conta Corrente</option>
                            <option value="Poupan√ßa">Poupan√ßa</option>
                            <option value="Investimento">Investimento</option>
                            <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-submit" style="background: var(--accent2); width: 100%;">
                        <i class="fas fa-save"></i> Salvar Conta
                    </button>
                </form>
            </div>

            <div class="card">
                <h2><i class="fas fa-tags"></i> Nova Categoria</h2>
                <form id="form-categoria">
                    <div class="input-group">
                        <label>Nome da Categoria:</label>
                        <input type="text" id="cat-nome" placeholder="Ex: Lazer, Sa√∫de" required>
                    </div>
                    <div class="input-group">
                        <label>Tipo:</label>
                        <select id="cat-tipo" required>
                            <option value="Despesa">Despesa</option>
                            <option value="Receita">Receita</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-submit" style="background: var(--ok); width: 100%;">
                        <i class="fas fa-save"></i> Salvar Categoria
                    </button>
                </form>
            </div>
        </div>

        <div class="card transaction-list-section">
            <h2><i class="fas fa-list"></i> Hist√≥rico de Transa√ß√µes</h2>
            <table id="transaction-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Data</th>
                        <th>Descri√ß√£o</th>
                        <th>Valor</th>
                        <th>Categoria</th>
                        <th>Conta</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <p id="no-transactions-message" style="text-align: center; color: #aaa; margin-top: 20px; display: none;">
                Nenhuma transa√ß√£o encontrada.
            </p>
        </div>
    </div>

    <div id="modal-edit" class="modal-overlay" style="display: none;">
        <div class="card modal-content">
            <h2 id="modal-title">Editar Registro</h2>
            <form id="form-edit">
                <input type="hidden" id="edit-id">
                <div id="edit-fields">
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn-submit">Salvar Altera√ß√µes</button>
                    <button type="button" onclick="fecharModal()" class="btn-submit"
                        style="background: var(--muted2);">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>